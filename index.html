<!DOCTYPE html>
<html lang="bn">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>ржорж╛рж╕рж┐ржХ ржмрж╛ржЬрж╛рж░рзЗрж░ рждрж╛рж▓рж┐ржХрж╛</title>

  <link rel="manifest" href="manifest.json" />
  <link rel="stylesheet" href="style.css" />
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <script src="assets/NotoSansBengali-Regular-bold.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.8.2/jspdf.plugin.autotable.min.js"></script>
</head>

<body>

<header>
  <h1>ЁЯУЛ ржорж╛рж╕рж┐ржХ ржмрж╛ржЬрж╛рж░рзЗрж░ рждрж╛рж▓рж┐ржХрж╛</h1>
  <button id="langToggle">English</button>
</header>

<!-- ================= HOME PAGE ================= -->
<section id="homePage">

  <div class="action-grid">
    <button class="action-card history" id="historyBtn">
      ЁЯУЬ<br><br>ржХрзЗржирж╛ржХрж╛ржЯрж╛рж░ ржЗрждрж┐рж╣рж╛рж╕
    </button>

    <button class="action-card voice" id="voiceBtn">
      ЁЯОЩ<br><br>ржмрж▓рзБржи
    </button>

    <button class="action-card add" id="addItemBtn">
      тЮХ<br><br>ржирждрзБржи ржЬрж┐ржирж┐рж╕ ржпрзЛржЧ
    </button>

    <button class="action-card master" id="loadMaster">
      ЁЯУж<br><br>ржорж╛рж╕рзНржЯрж╛рж░ рждрж╛рж▓рж┐ржХрж╛ ржЖржирзБржи
    </button>
  </div>

  <section id="itemList"></section>

  <button id="generatePdfBtn">ЁЯУД рждрж╛рж▓рж┐ржХрж╛ рждрзИрж░рж┐ ржХрж░рзБржи (PDF)</button>
  <button id="manageMaster">тЪЩя╕П ржорж╛рж╕рзНржЯрж╛рж░ рждрж╛рж▓рж┐ржХрж╛ ржорзНржпрж╛ржирзЗржЬ ржХрж░рзБржи</button>

  <!-- ===== PDF PREVIEW MODAL ===== -->
  <div id="pdfPreviewModal" class="modal hidden">
    <div class="modal-content">
      <h2>ЁЯУД рждрж╛рж▓рж┐ржХрж╛ ржкрзНрж░рж┐ржнрж┐ржЙ</h2>
      <p id="previewDate"></p>

      <table border="1" cellspacing="0" cellpadding="6" width="100%">
        <thead>
          <tr>
            <th>ржХрзНрж░ржо</th>
            <th>ржкржгрзНржпрзЗрж░ ржирж╛ржо</th>
            <th>ржкрж░рж┐ржорж╛ржг</th>
            <th>ржжрж╛ржо (тВ╣)</th>
          </tr>
        </thead>
        <tbody id="previewTable"></tbody>
      </table>

      <button id="confirmPdf">тЬЕ PDF рждрзИрж░рж┐ ржХрж░рзБржи</button>
      <button id="cancelPreview">тЭМ ржлрж┐рж░рзЗ ржпрж╛ржи</button>
    </div>
  </div>

</section>
<!-- ================= END HOME PAGE ================= -->

<!-- ================= HISTORY PAGE ================= -->
<section id="historyPage" class="hidden">
  <h2>ЁЯУЬ ржХрзЗржирж╛ржХрж╛ржЯрж╛рж░ ржЗрждрж┐рж╣рж╛рж╕</h2>
  <p>рждрзБрж▓ржирж╛рж░ ржЬржирзНржп рзи ржерзЗржХрзЗ рзм ржорж╛рж╕ ржирж┐рж░рзНржмрж╛ржЪржи ржХрж░рзБржи</p>

  <div id="historyCards"></div>

  <button id="compareBtn">ЁЯУК рждрзБрж▓ржирж╛ ржХрж░рзБржи</button>
  <button id="backToHome">тмЕ ржлрж┐рж░рзЗ ржпрж╛ржи</button>
</section>

<!-- ================= MASTER LIST PAGE ================= -->
<section id="masterPage" class="hidden">
  <h2>ЁЯУж ржорж╛рж╕рзНржЯрж╛рж░ рждрж╛рж▓рж┐ржХрж╛</h2>

  <div id="masterItems"></div>

  <input id="masterInput" placeholder="ржирждрзБржи ржЬрж┐ржирж┐рж╕ рж▓рж┐ржЦрзБржи" />
  <button id="addToMaster">тЮХ ржпрзЛржЧ ржХрж░рзБржи</button>

  <button id="backFromMaster">тмЕ ржлрж┐рж░рзЗ ржпрж╛ржи</button>
</section>

<!-- ================= HISTORY DETAIL PAGE ================= -->
<section id="historyDetailPage" class="hidden">
  <h2 id="historyDetailDate"></h2>
  <ul id="historyDetailList"></ul>
  <button id="backToHistory">тмЕ ржЗрждрж┐рж╣рж╛рж╕рзЗ ржлрж┐рж░рзЗ ржпрж╛ржи</button>
</section>

<!-- ================= COMPARISON PAGE ================= -->
<section id="comparisonPage" class="hidden">
  <h2>ЁЯУК ржорж╛рж╕ржнрж┐рждрзНрждрж┐ржХ рждрзБрж▓ржирж╛</h2>
  <div id="comparisonContent"></div>
  <button id="backFromComparison">тмЕ ржлрж┐рж░рзЗ ржпрж╛ржи</button>
</section>

<!-- ================= ADD ITEM MODAL ================= -->
<div id="modal" class="modal hidden">
  <div class="modal-content">
    <h2>тЮХ ржирждрзБржи ржЬрж┐ржирж┐рж╕</h2>

    <label>ржкржгрзНржпрзЗрж░ ржирж╛ржо</label>
    <div class="autocomplete-wrapper">
      <input id="bnName" autocomplete="off" />
      <div id="itemSuggestions" class="hidden"></div>
    </div>

    <label>ржкрж░рж┐ржорж╛ржг</label>
    <input type="number" id="qty" value="1" />

    <label>Unit</label>
    <select id="unit">
      <option value="unit">unit</option>
      <option value="kg">kg</option>
      <option value="gram">gram</option>
    </select>

    <button id="saveItem">ржпрзЛржЧ ржХрж░рзБржи</button>
    <button id="closeModal">ржмржирзНржз ржХрж░рзБржи</button>
  </div>
</div>

<!-- ================= PDF TEMPLATE (CRITICAL) ================= -->

<!-- ================= DELETE HISTORY POPUP ================= -->
<div id="deleteHistoryModal" class="modal hidden">
  <div class="modal-content delete-box">
    <h3>тЪая╕П ржЗрждрж┐рж╣рж╛рж╕ ржорзБржЫрзЗ ржлрзЗрж▓ржмрзЗржи?</h3>
    <p>ржПржЗ ржХрж╛ржЬржЯрж┐ ржлрж┐рж░рж┐рзЯрзЗ ржЖржирж╛ ржпрж╛ржмрзЗ ржирж╛</p>

    <div class="delete-actions">
      <button id="cancelDelete">тЭМ ржмрж╛рждрж┐рж▓</button>
      <button id="confirmDelete">ЁЯЧСя╕П ржорзБржЫрзЗ ржлрзЗрж▓рзБржи</button>
    </div>
  </div>
</div>

<!-- ================= SCRIPTS ================= -->
<script src="app.js"></script>
<!-- jsPDF core (MUST be first) -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

<!-- jsPDF autoTable plugin -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.8.2/jspdf.plugin.autotable.min.js"></script>

<!-- Bengali font (AFTER jsPDF) -->
<script src="assets/NotoSansBengali-Regular-bold.js"></script>

<!-- Your app logic (LAST) -->
<script src="app.js"></script>

</body>
</html>
